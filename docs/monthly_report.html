<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title></title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/intersection-observer-polyfill-1.0.0/intersection-observer.js"></script>
<script src="site_libs/quarto-contrib/scrollama-3.2.0/scrollama.min.js"></script>
<script src="site_libs/quarto-contrib/closeread-0.1.0/closeread.js"></script>
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<meta cr-debug-mode="false">
<meta cr-remove-header-space="false">


<link rel="stylesheet" href="site_libs/quarto-contrib/quarto-project/qmd-lab/closeread/closeread.css">
</head>

<body>

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content column-page" id="quarto-document-content">
      <!-- user-provided yaml closeread style options -->
      <style>
        :root {
          --cr-narrative-overlay-max-width: 60%;
--cr-narrative-font-family: serif;
--cr-narrative-text-color-overlay: #3E3E40;
--cr-narrative-text-color-sidebar: #3E3E40;
--cr-narrative-sidebar-width: 1fr;
--cr-section-background-color: white;
--cr-narrative-background-color-sidebar: white;
--cr-narrative-font-size: 1.2rem;
--cr-narrative-outer-margin: 10px;
--cr-narrative-border-radius: 10px;
--cr-narrative-background-color-overlay: white;
        }
      </style>
    




<section id="monthly-indoorco2map.com-summary-november-2025" class="level1">
<h1>Monthly indoorCO2map.com summary November 2025</h1>
<p>There is a well documented relationship between indoor levels of CO<sub>2</sub> and the amount of ventilation in indoor environments. Buildings with high indoor levels of CO<sub>2</sub> have poor ventilation and are therefore more likely to be vectors of airborne diseases (like COVID-19, Measles, and Flu) and to trap indoor pollutants.</p>
<p>Measuring CO<sub>2</sub> inside is a really cheap way of measuring the air quality in indoor environments. When we breathe, we exhale CO<sub>2</sub> and it gets trapped inside the room we are in. If the building has good ventilation it will leave quickly. If it has bad ventilation, it stays in the room and builds up.</p>
<p>If there is bad ventilation, then smoke from cooking can build up and that’s bad for you. Same thing for VOCs from perfumes, as well as gas leaks, radon, and mold spores. At high concentrations in artificial environments, they contribute to all sorts of things: cancer, Alzheimer’s, Parkinson’s, childhood asthma, childhood lung problems, and heart conditions. Bad ventilation also contributes to a much higher risk of respiratory infections. If someone who is sick breathes in a badly ventilated room, the infectious aerosols will float around in the room until someone breathes them in. In a well ventilated space, they are dispersed very quickly and the risk of infection is much lower. Having an open window in a classroom (or having an air filter), for instance, reduces school absences significantly.</p>
<p>CO<sub>2</sub> levels outside are typically around 420 parts per million (ppm), so if we measure the CO<sub>2</sub> in a room and it is higher than that, you know its not ventilating much. Anywhere from 400 - 600 ppm are considered well ventilated. Every indoor environment is going to trap some CO<sub>2</sub> and that’s okay. Levels between 600 ppm and 1000 ppm may need some improvement. Anything above 1000 ppm is generally considered bad and should certainly be improved in some manner.</p>
<p><a href="https://indoorco2map.com">Indoor CO2-Map</a> is a community science project to monitor indoor CO<sub>2</sub> levels in non-residential buildings and transit systems around the world. Since April 2024 volunteers have brought CO<sub>2</sub> monitors into cafes, shops, schools, trains, and all sorts of other places to monitor CO<sub>2</sub> levels in them and upload them to a public database.</p>
<p>The following is a monthly summary of how this project is going.</p>
<div class="cr-section cr-column-screen sidebar-left">
<div class="narrative-col">
<section id="buildings" class="level2 narrative trigger">
<h2 class="narrative anchored" data-anchor-id="buildings">Buildings</h2>
</section>
<div class="trigger">
<div class="cell narrative">

</div>
</div>
<div class="trigger">
<div class="cell narrative">

</div>
</div>
<div class="trigger new-trigger" data-focus-on="cr-ccplot">
<div class="narrative">
<p>This month there were 966 measurements of 739 unique buildings.</p>
</div>
</div>
<div class="trigger">
<div class="narrative">
<p>The most measured buildings were Bundesministerium für Klimaschutz, Umwelt, Energie, Mobilität, Innovation und Technologie, a government building in Wien, Österreich (min: 590, mean: 758, max: 986) and Rewe, a supermarket in Kassel, Deutschland (min: 640, mean: 803, max: 950), which were measured 8 times each.</p>
</div>
</div>
<div class="trigger">
<div class="narrative">
<p>There were measurements in 15 separate countries. Additionally, the first measurement was added in Puerto Rico this month. Welcome to the glorious world of CO<sub>2</sub> monitoring Puerto Rico!</p>
</div>
</div>
<div class="trigger new-trigger" data-focus-on="cr-histco2plot">
<div class="narrative">

</div>
</div>
<div class="trigger">
<div class="narrative">
<p>Here is a graph that shows the distribution of all the CO<sub>2</sub> measurements this month. The dashed red line shows the median which was 816 ppm. There are many measurements in the range that we would consider good CO<sub>2</sub> levels, however, you’ll notice that there are also a good number of measurements that are over 1000 ppm, which really should be addressed.</p>
</div>
</div>
<div class="trigger new-trigger" data-focus-on="cr-buildingtypes">
<div class="narrative">

</div>
</div>
<div class="trigger">
<div class="narrative">
<p>This graph shows the distribution of the most common building types in the month of November. The dark bar in the middle of each box and whisker plot shows the median value for each category. The rest of the lines show the range of the distribution. Most of the values fall within each box. If you want more information about how to interpret this graph, watch <a href="https://youtu.be/b2C9I8HuCe4?si=73FKu7wSJr1rWwWt">this video</a>.</p>
</div>
</div>
<div class="trigger">
<div class="narrative">
<p>As is common, supermarkets tend to have higher CO<sub>2</sub> values than other types of buildings. I’ve converted those CO<sub>2</sub> values to the percentage of rebreathed air, which specifies how much of each breath you take has already been exhaled by someone else.</p>
</div>
</div>
<div class="trigger">
<div class="cell narrative">

</div>
</div>
<div class="trigger new-trigger" data-focus-on="cr-allcurves">
<div class="narrative">
<p>Here is a graph of all the recordings that happened this month shown by the grey curves. I’ve highlighted the highest one.</p>
</div>
</div>
<div class="trigger">
<div class="narrative">
<p>The building with the highest measured CO<sub>2</sub> levels was 100 Club in City of Westminster, United Kingdom with a median CO<sub>2</sub> value of 7563 ppm. While this is incredibly high, it is important to realize that this is an outlier. The majority of measurements are much lower than this. There is a boxplot to the right of the graph which shows where the majority of measurements fall.</p>
</div>
</div>
<div class="trigger">
<div class="narrative">
<p>The building with the lowest measured CO<sub>2</sub> levels was Gärtnerei Aeschlimann in Kreis Herzogtum Lauenburg, Deutschland with a median CO<sub>2</sub> value of 477 ppm. There were some measurements that were even lower than this, but we have removed them from this analysis. Generally outdoor CO<sub>2</sub> levels don’t go below 410 ppm, therefore we have removed any datapoints that are below 400 ppm. If your CO<sub>2</sub> monitor consistently shows levels below 410 ppm while you are inside or outside, it is likely that your monitor needs recalibrating.</p>
</div>
</div>
<div class="trigger">
<div class="cell narrative">

</div>
</div>
<div class="trigger">
<div class="cell narrative">

</div>
</div>
</div>
<div class="sticky-col">
<div class="sticky-col-stack">
<div id="cr-histco2plot" class="sticky">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="monthly_report_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="cr-ccplot" class="sticky">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="monthly_report_files/figure-html/ccplot-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="cr-buildingtypes" class="sticky">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="monthly_report_files/figure-html/buildingtypes2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="cr-allcurves" class="sticky">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="monthly_report_files/figure-html/allcurves3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<p>Here is a chart showing the 11 measurements that had a median CO<sub>2</sub> value under 500. Keep in mind that some of these are potentially miscalibrated sensors or erroneous recordings where the sensor was outside. However, it is important to celebrate the places that do in fact have well ventilated spaces.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<div id="qdifpdveof" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#qdifpdveof table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#qdifpdveof thead, #qdifpdveof tbody, #qdifpdveof tfoot, #qdifpdveof tr, #qdifpdveof td, #qdifpdveof th {
  border-style: none;
}

#qdifpdveof p {
  margin: 0;
  padding: 0;
}

#qdifpdveof .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#qdifpdveof .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#qdifpdveof .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#qdifpdveof .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#qdifpdveof .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qdifpdveof .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qdifpdveof .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qdifpdveof .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#qdifpdveof .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#qdifpdveof .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#qdifpdveof .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#qdifpdveof .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#qdifpdveof .gt_spanner_row {
  border-bottom-style: hidden;
}

#qdifpdveof .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#qdifpdveof .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#qdifpdveof .gt_from_md > :first-child {
  margin-top: 0;
}

#qdifpdveof .gt_from_md > :last-child {
  margin-bottom: 0;
}

#qdifpdveof .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 0px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#qdifpdveof .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#qdifpdveof .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#qdifpdveof .gt_row_group_first td {
  border-top-width: 2px;
}

#qdifpdveof .gt_row_group_first th {
  border-top-width: 2px;
}

#qdifpdveof .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qdifpdveof .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#qdifpdveof .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#qdifpdveof .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qdifpdveof .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qdifpdveof .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#qdifpdveof .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#qdifpdveof .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#qdifpdveof .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qdifpdveof .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qdifpdveof .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#qdifpdveof .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qdifpdveof .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#qdifpdveof .gt_left {
  text-align: left;
}

#qdifpdveof .gt_center {
  text-align: center;
}

#qdifpdveof .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#qdifpdveof .gt_font_normal {
  font-weight: normal;
}

#qdifpdveof .gt_font_bold {
  font-weight: bold;
}

#qdifpdveof .gt_font_italic {
  font-style: italic;
}

#qdifpdveof .gt_super {
  font-size: 65%;
}

#qdifpdveof .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#qdifpdveof .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#qdifpdveof .gt_indent_1 {
  text-indent: 5px;
}

#qdifpdveof .gt_indent_2 {
  text-indent: 10px;
}

#qdifpdveof .gt_indent_3 {
  text-indent: 15px;
}

#qdifpdveof .gt_indent_4 {
  text-indent: 20px;
}

#qdifpdveof .gt_indent_5 {
  text-indent: 25px;
}

#qdifpdveof .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#qdifpdveof div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_heading">
<th colspan="4" class="gt_heading gt_title gt_font_normal gt_bottom_border">Measurements under 500 ppm</th>
</tr>
<tr class="odd gt_col_headings">
<th id="name" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Name</th>
<th id="co2" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">CO2 ppm</th>
<th id="osmtag" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Building type</th>
<th id="location_description" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Location</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="name">La PAM</td>
<td class="gt_row gt_right" headers="co2">497.0</td>
<td class="gt_row gt_left" headers="osmtag">Mall</td>
<td class="gt_row gt_center" headers="location_description">Brest, France</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="name">Jacafé - Coffee, Craft Beer &amp; Yummy Snacks</td>
<td class="gt_row gt_right" headers="co2">483.0</td>
<td class="gt_row gt_left" headers="osmtag">Cafe</td>
<td class="gt_row gt_center" headers="location_description">Funchal, Portugal</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="name">Neue Apotheke mit Neuem Sanitätshaus St. Josef</td>
<td class="gt_row gt_right" headers="co2">499.0</td>
<td class="gt_row gt_left" headers="osmtag">Pharmacy</td>
<td class="gt_row gt_center" headers="location_description">Regensburg, Deutschland</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="name">Mühlviertler Landbäckerei</td>
<td class="gt_row gt_right" headers="co2">484.0</td>
<td class="gt_row gt_left" headers="osmtag">Bakery</td>
<td class="gt_row gt_center" headers="location_description">Bezirk Rohrbach, Österreich</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="name">Rise &amp; Dine</td>
<td class="gt_row gt_right" headers="co2">499.0</td>
<td class="gt_row gt_left" headers="osmtag">Cafe</td>
<td class="gt_row gt_center" headers="location_description">Funchal, Portugal</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="name">Gärtnerei Aeschlimann</td>
<td class="gt_row gt_right" headers="co2">477.0</td>
<td class="gt_row gt_left" headers="osmtag">Garden centre</td>
<td class="gt_row gt_center" headers="location_description">Kreis Herzogtum Lauenburg, Deutschland</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="name">Loft Brunch &amp; Cocktails [na.praça]</td>
<td class="gt_row gt_right" headers="co2">488.0</td>
<td class="gt_row gt_left" headers="osmtag">Restaurant</td>
<td class="gt_row gt_center" headers="location_description">Funchal, Portugal</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="name">Between Cafe &amp; Healthy Food</td>
<td class="gt_row gt_right" headers="co2">479.0</td>
<td class="gt_row gt_left" headers="osmtag">Cafe</td>
<td class="gt_row gt_center" headers="location_description">Funchal, Portugal</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="name">Stadt- und Landesbibliothek</td>
<td class="gt_row gt_right" headers="co2">484.5</td>
<td class="gt_row gt_left" headers="osmtag">Library</td>
<td class="gt_row gt_center" headers="location_description">Dortmund, Deutschland</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="name">Stadtbibliothek Erlangen</td>
<td class="gt_row gt_right" headers="co2">487.0</td>
<td class="gt_row gt_left" headers="osmtag">Library</td>
<td class="gt_row gt_center" headers="location_description">Erlangen, Deutschland</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="name">ETH Hauptgebäude (HG)</td>
<td class="gt_row gt_right" headers="co2">490.0</td>
<td class="gt_row gt_left" headers="osmtag"></td>
<td class="gt_row gt_center" headers="location_description">Zürich, Switzerland</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<section id="trends-over-time" class="level2">
<h2 class="anchored" data-anchor-id="trends-over-time">Trends over time</h2>
<p>The following are charts that are updated every month, but they reflect all data collected so far from the indoorco2 monitoring project (since April 2024). Over time, we should be able to see yearly trends where CO<sub>2</sub> levels are higher in the Winter when shopkeepers close their windows to keep things warm and then lower CO<sub>2</sub> levels when shopkeepers open their windows in the Summer.</p>
<div class="cr-section cr-column-screen sidebar-left">
<div class="narrative-col">
<div class="trigger new-trigger" data-focus-on="cr-metweekall">
<div class="narrative">

</div>
</div>
<div class="trigger">
<div class="narrative">
<p>We can start to see trends like in this graph which shows CO<sub>2</sub> against the week of the year. There are two relevant points you should know about the X axis, <code>Week of the year (meteorological)</code>, before moving on.</p>
</div>
</div>
<div class="trigger">
<div class="narrative">
<ol type="1">
<li><p>Datapoints are aggregated into weeks regardless of the year they are collected in, so some weeks were measured in both 2024 and 2025 but they would both show up in the same week number.</p></li>
<li><p>This takes account of the hemisphere in which the recording was collected. Since Winter in the Southern Hemisphere is June through August, while Winter in the Northern Hemisphere is December through February, we have adjusted the week numbers so that they line up meterologically. Essentially, a measurement collected in the Northern Hemisphere on the first of January would show up as week 1, however, a measurement collected in the Southern Hemisphere on the first of January would show up as week 27.</p></li>
</ol>
</div>
</div>
<div class="trigger new-trigger" data-focus-on="cr-metweektype">
<div class="narrative">

</div>
</div>
<div class="trigger">
<div class="narrative">
<p>If we split the graph by the most popular building types, we can start to see some interesting trends. Supermarkets remain relatively high throughout the year with little variation while fast food, and chemists have quite a strong dip in CO<sub>2</sub> levels during the Summer. This may be because most supermarkets keep their doors closed throughout the year and they tend to have larger buildings; conversely, chemists and fast food restaurants tend to be small to medium sized buildings which means that they can be very easily ventilated if they leave their front door open in the Summer. Restaurants have a very interesting trend here, the strong upward trend of the model at the end of the year is probably due to not enough measurements of restaurants yet rather that there being any meaningful conclusions. Over time we should hopefully see more stable trends show up.</p>
</div>
</div>
<div class="trigger new-trigger" data-focus-on="cr-allhist">
<div class="narrative">
<p>Here’s a histogram showing how many measurements have been recorded each week since the start of the project. Over the last 12 months there have been 10272 building measurements which is 856 per month or 198 per week.</p>
</div>
</div>
</div>
<div class="sticky-col">
<div class="sticky-col-stack">
<div id="cr-metweekall" class="sticky">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="monthly_report_files/figure-html/metweekall-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="cr-metweektype" class="sticky">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="monthly_report_files/figure-html/metweektype-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="cr-allhist" class="sticky">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="monthly_report_files/figure-html/allhist-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="transit" class="level2">
<h2 class="anchored" data-anchor-id="transit">Transit</h2>
<div class="cr-section cr-column-screen sidebar-left">
<div class="narrative-col">
<div class="trigger new-trigger" data-focus-on="cr-transitcount">
<div class="narrative">
<p>This month there were 183 measurements of 122 unique transit lines. The most measured transit line was subway U6 in the U-Bahn Wien transit network in Wien, Österreich (min: 486, mean: 845, max: 1663), which was measured 14 times. This graph shows the number of transit recordings in each transit network during the last month. Keep in mind that this graph only shows networks with more than 2 transit recordings this month (there were quite a few with one or two). Transit recordings seem very popular in Vienna at the moment.</p>
</div>
</div>
<div class="trigger new-trigger" data-focus-on="cr-transitmonthbox">
<div class="narrative">
<p>When we look at the distribution of CO<sub>2</sub> measurements by the transit type this month we can see some patterns. Trains often have higher CO<sub>2</sub> values than buses, subways and trams because they usually travel for longer distances between stations. This causes trains to rely more heavily on mechanical ventilation than buses, subways, and trams which open their doors at stations more frequently.</p>
</div>
</div>
<div class="trigger new-trigger" data-focus-on="cr-transitallbox">
<div class="narrative">
<p>This trend can also be seen when we look at the distribution of each transit type on all the data from 2024 and 2025.</p>
</div>
</div>
<div class="trigger">
<div class="cell narrative">

</div>
</div>
</div>
<div class="sticky-col">
<div class="sticky-col-stack">
<div id="cr-transitcount" class="sticky">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="monthly_report_files/figure-html/transitcountbar-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="cr-transitmonthbox" class="sticky">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="monthly_report_files/figure-html/transitmonthbox-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="cr-transitallbox" class="sticky">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="monthly_report_files/figure-html/transitallbox-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<p>That’s all for this month! Check back soon for more updates.</p>
<section id="some-thanks" class="level3">
<h3 class="anchored" data-anchor-id="some-thanks">Some thanks</h3>
<p>This work would not be possible without the hard work of all the contributors to <a href="https://www.openstreetmap.org/">OpenStreetMap</a> and <a href="https://indoorco2map.com">indoorco2map</a>. If you would like to contribute to either of these projects, please visit their websites. You can contribute to the indoorco2map by downloading the <a href="https://play.google.com/store/apps/details?id=com.aurelwu.indoorairqualitycollector&amp;pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1">Android app</a> or <a href="https://apps.apple.com/us/app/indoorco2map-data-collector/id6504560820?itscg=30200&amp;itsct=apps_box_badge&amp;mttnsubad=6504560820">iOS app</a> and connecting it to any one of the following CO<sub>2</sub> sensors: Aranet4, Airvalent, AirSpot and Inkbird IAM-T1. I would also like to thank <a href="https://github.com/AurelWu">Aurel Wünsch</a> who tirelessly works on the project as well as the other contributors to the project <a href="https://github.com/ahunt">ahunt</a>, <a href="https://github.com/da5nsy">da5nsy</a>, <a href="https://github.com/paul-hammant">paul-hammant</a>, and <a href="https://github.com/samherniman">samherniman</a>.</p>
<p>Finally, many thanks go to the teams who work on the following software, which I used heavily.</p>
<div class="cell">
<div class="cell-output-display">
<p>We used R v. 4.4.3 <span class="citation" data-cites="base">(<a href="#ref-base" role="doc-biblioref">R Core Team 2025</a>)</span> and the following R packages: autocruller v. 0.0.0.9000 <span class="citation" data-cites="autocruller">(<a href="#ref-autocruller" role="doc-biblioref">Herniman 2025</a>)</span>, dbscan v. 1.2.3 <span class="citation" data-cites="dbscan2019 dbscan2025">(<a href="#ref-dbscan2019" role="doc-biblioref">Hahsler, Piekenbrock, and Doran 2019</a>; <a href="#ref-dbscan2025" role="doc-biblioref">Hahsler and Piekenbrock 2025</a>)</span>, glue v. 1.8.0 <span class="citation" data-cites="glue">(<a href="#ref-glue" role="doc-biblioref">Hester and Bryan 2024</a>)</span>, gt v. 1.0.0 <span class="citation" data-cites="gt">(<a href="#ref-gt" role="doc-biblioref">Iannone et al. 2025</a>)</span>, h3 v. 3.7.2 <span class="citation" data-cites="h3">(<a href="#ref-h3" role="doc-biblioref">Kuethe 2022</a>)</span>, here v. 1.0.1 <span class="citation" data-cites="here">(<a href="#ref-here" role="doc-biblioref">Müller 2020</a>)</span>, mapview v. 2.11.2 <span class="citation" data-cites="mapview">(<a href="#ref-mapview" role="doc-biblioref">Appelhans et al. 2023</a>)</span>, osmdata v. 0.2.5 <span class="citation" data-cites="osmdata">(<a href="#ref-osmdata" role="doc-biblioref">Mark Padgham et al. 2017</a>)</span>, patchwork v. 1.3.1 <span class="citation" data-cites="patchwork">(<a href="#ref-patchwork" role="doc-biblioref">Pedersen 2025</a>)</span>, rmarkdown v. 2.30 <span class="citation" data-cites="rmarkdown2018 rmarkdown2020 rmarkdown2025">(<a href="#ref-rmarkdown2018" role="doc-biblioref">Xie, Allaire, and Grolemund 2018</a>; <a href="#ref-rmarkdown2020" role="doc-biblioref">Xie, Dervieux, and Riederer 2020</a>; <a href="#ref-rmarkdown2025" role="doc-biblioref">Allaire et al. 2025</a>)</span>, scales v. 1.4.0 <span class="citation" data-cites="scales">(<a href="#ref-scales" role="doc-biblioref">Wickham, Pedersen, and Seidel 2025</a>)</span>, scico v. 1.5.0 <span class="citation" data-cites="scico">(<a href="#ref-scico" role="doc-biblioref">Pedersen and Crameri 2023</a>)</span>, sf v. 1.0.22 <span class="citation" data-cites="sf2018 sf2023">(<a href="#ref-sf2018" role="doc-biblioref">Pebesma 2018</a>; <a href="#ref-sf2023" role="doc-biblioref">Pebesma and Bivand 2023</a>)</span>, tidygeocoder v. 1.0.6 <span class="citation" data-cites="tidygeocoder">(<a href="#ref-tidygeocoder" role="doc-biblioref">Cambon et al. 2021</a>)</span>, tidyplots v. 0.2.2.9000 <span class="citation" data-cites="tidyplots">(<a href="#ref-tidyplots" role="doc-biblioref">Engler 2025</a>)</span>, tidyverse v. 2.0.0 <span class="citation" data-cites="tidyverse">(<a href="#ref-tidyverse" role="doc-biblioref">Wickham et al. 2019</a>)</span>.</p>
</div>
</div>
<!-- ## Everything -->
<!-- Combine both long datasets and then make a beeswarm comparing buildings to transit -->



</section>
</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-rmarkdown2025" class="csl-entry" role="listitem">
Allaire, JJ, Yihui Xie, Christophe Dervieux, Jonathan McPherson, Javier Luraschi, Kevin Ushey, Aron Atkins, et al. 2025. <em><span class="nocase">rmarkdown</span>: Dynamic Documents for r</em>. <a href="https://github.com/rstudio/rmarkdown">https://github.com/rstudio/rmarkdown</a>.
</div>
<div id="ref-mapview" class="csl-entry" role="listitem">
Appelhans, Tim, Florian Detsch, Christoph Reudenbach, and Stefan Woellauer. 2023. <em><span class="nocase">mapview</span>: Interactive Viewing of Spatial Data in r</em>. <a href="https://CRAN.R-project.org/package=mapview">https://CRAN.R-project.org/package=mapview</a>.
</div>
<div id="ref-tidygeocoder" class="csl-entry" role="listitem">
Cambon, Jesse, Diego Hernangómez, Christopher Belanger, and Daniel Possenriede. 2021. <span>“<span class="nocase">tidygeocoder</span>: An r Package for Geocoding.”</span> <em>Journal of Open Source Software</em> 6 (65): 3544. <a href="https://doi.org/10.21105/joss.03544">https://doi.org/10.21105/joss.03544</a>.
</div>
<div id="ref-tidyplots" class="csl-entry" role="listitem">
Engler, Jan Broder. 2025. <span>“Tidyplots Empowers Life Scientists with Easy Code-Based Data Visualization.”</span> <em>iMeta</em>, e70018. https://doi.org/<a href="https://doi.org/10.1002/imt2.70018">https://doi.org/10.1002/imt2.70018</a>.
</div>
<div id="ref-dbscan2025" class="csl-entry" role="listitem">
Hahsler, Michael, and Matthew Piekenbrock. 2025. <em><span class="nocase">dbscan</span>: Density-Based Spatial Clustering of Applications with Noise (DBSCAN) and Related Algorithms</em>. <a href="https://CRAN.R-project.org/package=dbscan">https://CRAN.R-project.org/package=dbscan</a>.
</div>
<div id="ref-dbscan2019" class="csl-entry" role="listitem">
Hahsler, Michael, Matthew Piekenbrock, and Derek Doran. 2019. <span>“<span class="nocase">dbscan</span>: Fast Density-Based Clustering with <span>R</span>.”</span> <em>Journal of Statistical Software</em> 91 (1): 1–30. <a href="https://doi.org/10.18637/jss.v091.i01">https://doi.org/10.18637/jss.v091.i01</a>.
</div>
<div id="ref-autocruller" class="csl-entry" role="listitem">
Herniman, Sam. 2025. <em><span class="nocase">autocruller</span>: Tools to Download and Analyze indoorCO2map Data</em>. <a href="https://github.com/samherniman/autocruller">https://github.com/samherniman/autocruller</a>.
</div>
<div id="ref-glue" class="csl-entry" role="listitem">
Hester, Jim, and Jennifer Bryan. 2024. <em><span class="nocase">glue</span>: Interpreted String Literals</em>. <a href="https://CRAN.R-project.org/package=glue">https://CRAN.R-project.org/package=glue</a>.
</div>
<div id="ref-gt" class="csl-entry" role="listitem">
Iannone, Richard, Joe Cheng, Barret Schloerke, Ellis Hughes, Alexandra Lauer, JooYoung Seo, Ken Brevoort, and Olivier Roy. 2025. <em><span class="nocase">gt</span>: Easily Create Presentation-Ready Display Tables</em>. <a href="https://CRAN.R-project.org/package=gt">https://CRAN.R-project.org/package=gt</a>.
</div>
<div id="ref-h3" class="csl-entry" role="listitem">
Kuethe, Stefan. 2022. <em>H3: R Bindings for H3</em>. <a href="https://github.com/crazycapivara/h3-r">https://github.com/crazycapivara/h3-r</a>.
</div>
<div id="ref-osmdata" class="csl-entry" role="listitem">
Mark Padgham, Bob Rudis, Robin Lovelace, and Maëlle Salmon. 2017. <span>“Osmdata.”</span> <em>Journal of Open Source Software</em> 2 (14): 305. <a href="https://doi.org/10.21105/joss.00305">https://doi.org/10.21105/joss.00305</a>.
</div>
<div id="ref-here" class="csl-entry" role="listitem">
Müller, Kirill. 2020. <em><span class="nocase">here</span>: A Simpler Way to Find Your Files</em>. <a href="https://CRAN.R-project.org/package=here">https://CRAN.R-project.org/package=here</a>.
</div>
<div id="ref-sf2018" class="csl-entry" role="listitem">
Pebesma, Edzer. 2018. <span>“<span class="nocase">Simple Features for R: Standardized Support for Spatial Vector Data</span>.”</span> <em><span>The R Journal</span></em> 10 (1): 439–46. <a href="https://doi.org/10.32614/RJ-2018-009">https://doi.org/10.32614/RJ-2018-009</a>.
</div>
<div id="ref-sf2023" class="csl-entry" role="listitem">
Pebesma, Edzer, and Roger Bivand. 2023. <em><span class="nocase">Spatial Data Science: With applications in R</span></em>. <span>Chapman and Hall/CRC</span>. <a href="https://doi.org/10.1201/9780429459016">https://doi.org/10.1201/9780429459016</a>.
</div>
<div id="ref-patchwork" class="csl-entry" role="listitem">
Pedersen, Thomas Lin. 2025. <em><span class="nocase">patchwork</span>: The Composer of Plots</em>. <a href="https://CRAN.R-project.org/package=patchwork">https://CRAN.R-project.org/package=patchwork</a>.
</div>
<div id="ref-scico" class="csl-entry" role="listitem">
Pedersen, Thomas Lin, and Fabio Crameri. 2023. <em><span class="nocase">scico</span>: Colour Palettes Based on the Scientific Colour-Maps</em>. <a href="https://CRAN.R-project.org/package=scico">https://CRAN.R-project.org/package=scico</a>.
</div>
<div id="ref-base" class="csl-entry" role="listitem">
R Core Team. 2025. <em><span>R</span>: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.
</div>
<div id="ref-tidyverse" class="csl-entry" role="listitem">
Wickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. <span>“Welcome to the <span class="nocase">tidyverse</span>.”</span> <em>Journal of Open Source Software</em> 4 (43): 1686. <a href="https://doi.org/10.21105/joss.01686">https://doi.org/10.21105/joss.01686</a>.
</div>
<div id="ref-scales" class="csl-entry" role="listitem">
Wickham, Hadley, Thomas Lin Pedersen, and Dana Seidel. 2025. <em><span class="nocase">scales</span>: Scale Functions for Visualization</em>. <a href="https://CRAN.R-project.org/package=scales">https://CRAN.R-project.org/package=scales</a>.
</div>
<div id="ref-rmarkdown2018" class="csl-entry" role="listitem">
Xie, Yihui, J. J. Allaire, and Garrett Grolemund. 2018. <em>R Markdown: The Definitive Guide</em>. Boca Raton, Florida: Chapman; Hall/CRC. <a href="https://bookdown.org/yihui/rmarkdown">https://bookdown.org/yihui/rmarkdown</a>.
</div>
<div id="ref-rmarkdown2020" class="csl-entry" role="listitem">
Xie, Yihui, Christophe Dervieux, and Emily Riederer. 2020. <em>R Markdown Cookbook</em>. Boca Raton, Florida: Chapman; Hall/CRC. <a href="https://bookdown.org/yihui/rmarkdown-cookbook">https://bookdown.org/yihui/rmarkdown-cookbook</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>